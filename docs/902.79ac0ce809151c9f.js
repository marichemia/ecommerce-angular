"use strict";(self.webpackChunkangular_ecommerce=self.webpackChunkangular_ecommerce||[]).push([[902],{2902:(A,p,i)=>{i.r(p),i.d(p,{ProductsModule:()=>_});var u=i(6895),s=i(3128),n=i(433),m=i(3900),f=i(9646),t=i(8256),h=i(8773),l=i(4561);function b(o,r){if(1&o&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}let g=(()=>{class o{constructor(e,c,d,a){this.categoryService=e,this.productService=c,this.route=d,this.router=a,this.categories$=this.categoryService.getCategories(),this.form=new n.cw({id:new n.NI(null),name:new n.NI("",n.kI.required),description:new n.NI("",n.kI.required),image:new n.NI("",n.kI.required),price:new n.NI("",n.kI.required),categoryId:new n.NI("",n.kI.required)})}ngOnInit(){this.route.params.pipe((0,m.w)(e=>e.id?this.productService.getProduct(e.id):(0,f.of)(null))).subscribe(e=>{e&&this.form.patchValue({...e,categoryId:e.category.id})})}submit(){this.form.invalid||(this.form.value.id?this.productService.update(this.form.value.id,this.form.value).pipe().subscribe(()=>{this.router.navigate(["/manager/products"]).then(()=>{this.form.reset()})}):this.productService.create(this.form.value).pipe().subscribe(()=>{this.router.navigate(["/manager/products"]).then(()=>{this.form.reset()})}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.G),t.Y36(l.su),t.Y36(s.gz),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products-edit"]],decls:29,vars:4,consts:[[1,"testbox"],[3,"formGroup","ngSubmit"],["for","name"],["type","text","id","name","formControlName","name"],["for","description"],["type","text","id","desciption","formControlName","description"],["for","image"],["type","text","formControlName","image","id","image"],["for","price"],["type","number","id","price","formControlName","price"],["for","categoryId"],["id","categoryId","formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"button-56"],[3,"value"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return c.submit()}),t.TgZ(2,"div")(3,"label",2),t._uU(4,"Name:"),t.qZA(),t._UZ(5,"br")(6,"input",3),t.qZA(),t.TgZ(7,"div")(8,"label",4),t._uU(9,"Description:"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"div")(12,"label",6),t._uU(13,"Image:"),t.qZA(),t._UZ(14,"br")(15,"input",7),t.qZA(),t.TgZ(16,"div")(17,"label",8),t._uU(18,"Price:"),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"div")(21,"label",10),t._uU(22,"Choose Category:"),t.qZA(),t._UZ(23,"br"),t.TgZ(24,"select",11),t.YNc(25,b,2,2,"option",12),t.ALo(26,"async"),t.qZA()(),t.TgZ(27,"button",13),t._uU(28,"Save"),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",c.form),t.xp6(24),t.Q6J("ngForOf",t.lcZ(26,2,c.categories$)))},dependencies:[u.sg,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,u.Ov],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;outline:none;font-family:Roboto,sans-serif;font-size:14px;color:#667;line-height:22px}.testbox[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:inherit;padding:3px}form[_ngcontent-%COMP%]{width:80%;padding:20px;background:#fff;box-shadow:0 2px 5px #ccc}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{margin-bottom:10px;border:1px solid #ccc;border-radius:3px}input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{outline:none;border:1px solid #095484}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:calc(100% - 10px);padding:5px}button[_ngcontent-%COMP%]{width:150px;padding:10px;border:none;border-radius:5px;background-color:#095484;font-size:16px;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0666a3}select[_ngcontent-%COMP%]{margin-bottom:20px}"]}),o})();const Z=function(o){return["/manager/products/edit",o]};function v(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"img",6),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",7),t.NdJ("click",function(){const a=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.deleteItem(a.id))}),t._uU(11,"Remove"),t.qZA(),t.TgZ(12,"button",8),t._uU(13,"Edit"),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu("$"+e.price),t.xp6(2),t.Oqu(e.category.name),t.xp6(4),t.Q6J("routerLink",t.VKq(5,Z,e.id))}}const C=function(){return["/manager/products/create"]},P=[{path:"",component:(()=>{class o{constructor(e){this.productsService=e,this.products=[]}ngOnInit(){this.getAll()}getAll(){this.productsService.getProducts({}).pipe().subscribe(e=>{this.products=e})}deleteItem(e){this.productsService.deleteItem(e).pipe().subscribe(()=>{this.getAll()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.su))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],decls:21,vars:3,consts:[[1,"fa-solid","fa-camera"],[1,"fa-solid","fa-table-list"],[1,"fa-solid","fa-tag"],[1,"fa-solid","fa-shirt"],[4,"ngFor","ngForOf"],[1,"button-56","add-btn",3,"routerLink"],["width","100",3,"src"],["id","remove-btn",1,"button-56",3,"click"],[1,"button-56","edit-btn",3,"routerLink"]],template:function(e,c){1&e&&(t.TgZ(0,"div")(1,"table")(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Product"),t._UZ(6,"i",0),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Name"),t._UZ(9,"i",1),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Price"),t._UZ(12,"i",2),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Category"),t._UZ(15,"i",3),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,v,14,7,"tr",4),t.qZA()(),t.TgZ(18,"div")(19,"button",5),t._uU(20,"Add"),t.qZA()()()),2&e&&(t.xp6(17),t.Q6J("ngForOf",c.products),t.xp6(2),t.Q6J("routerLink",t.DdM(2,C)))},dependencies:[u.sg,s.rH],styles:["td[_ngcontent-%COMP%]{border:1px solid rgb(177,168,168);height:70px;color:#4e4c4c}table[_ngcontent-%COMP%]{width:80%;position:relative;left:10%;font-family:Titillium Web,sans-serif;color:#2c90e2;text-align:center}#remove-btn[_ngcontent-%COMP%]{width:100px}i[_ngcontent-%COMP%]{margin-left:5px;color:#ff8c00}.checkout[_ngcontent-%COMP%]{position:absolute;left:10%}.checkout[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Titillium Web,sans-serif;color:#4e4c4c;position:relative;left:10px}.add-btn[_ngcontent-%COMP%]{background-color:#72b972;position:relative;left:9.5%}.edit-btn[_ngcontent-%COMP%]{width:100px;background-color:#fa5103}"]}),o})()},{path:"create",component:g},{path:"edit/:id",component:g}];let x=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.Bz.forChild(P),s.Bz]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,x,n.UX]}),o})()}}]);